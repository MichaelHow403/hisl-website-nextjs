{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/api/integai/route.ts"],"sourcesContent":["import { NextRequest } from \"next/server\";\n\nexport const runtime = \"edge\";\nexport const dynamic = \"force-dynamic\";\n\nexport async function GET() {\n  const mode = process.env.INTEGAI_GATEWAY_URL ? \"gateway\" : \"stub\";\n  return Response.json({ ok: true, mode, model: process.env.INTEGAI_MODEL ?? \"gemma-fast\" });\n}\n\nexport async function POST(req: NextRequest) {\n  const now = new Date().toISOString();\n  const { prompt = \"\" } = await req.json().catch(() => ({}));\n  const gw = process.env.INTEGAI_GATEWAY_URL;\n\n  if (gw) {\n    const r = await fetch(`${gw}/v1/chat/completions`, {\n      method: \"POST\",\n      headers: { \"content-type\": \"application/json\" },\n      body: JSON.stringify({\n        model: process.env.INTEGAI_MODEL ?? \"gemma-fast\",\n        messages: [{ role: \"user\", content: prompt }],\n        temperature: 0.3\n      })\n    });\n    const data = await r.json();\n    return Response.json({ source: \"gateway\", at: now, data });\n  }\n\n  const output = `IntegAI (stub): ${prompt ? prompt.slice(0, 140) : \"Hello\"} â€¢ ${now}`;\n  return Response.json({ source: \"stub\", at: now, output, tokens: output.split(/\\s+/).length });\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEO,MAAM,UAAU;AAChB,MAAM,UAAU;AAEhB,eAAe;IACpB,MAAM,OAAO,QAAQ,GAAG,CAAC,mBAAmB,GAAG,YAAY;IAC3D,OAAO,SAAS,IAAI,CAAC;QAAE,IAAI;QAAM;QAAM,OAAO,QAAQ,GAAG,CAAC,aAAa,IAAI;IAAa;AAC1F;AAEO,eAAe,KAAK,GAAgB;IACzC,MAAM,MAAM,IAAI,OAAO,WAAW;IAClC,MAAM,EAAE,SAAS,EAAE,EAAE,GAAG,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IACxD,MAAM,KAAK,QAAQ,GAAG,CAAC,mBAAmB;IAE1C,IAAI,IAAI;QACN,MAAM,IAAI,MAAM,MAAM,GAAG,GAAG,oBAAoB,CAAC,EAAE;YACjD,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB,OAAO,QAAQ,GAAG,CAAC,aAAa,IAAI;gBACpC,UAAU;oBAAC;wBAAE,MAAM;wBAAQ,SAAS;oBAAO;iBAAE;gBAC7C,aAAa;YACf;QACF;QACA,MAAM,OAAO,MAAM,EAAE,IAAI;QACzB,OAAO,SAAS,IAAI,CAAC;YAAE,QAAQ;YAAW,IAAI;YAAK;QAAK;IAC1D;IAEA,MAAM,SAAS,CAAC,gBAAgB,EAAE,SAAS,OAAO,KAAK,CAAC,GAAG,OAAO,QAAQ,GAAG,EAAE,KAAK;IACpF,OAAO,SAAS,IAAI,CAAC;QAAE,QAAQ;QAAQ,IAAI;QAAK;QAAQ,QAAQ,OAAO,KAAK,CAAC,OAAO,MAAM;IAAC;AAC7F"}}]
}